@page "/"
@using System.Text.Json

<PageTitle>Spooky Llama</PageTitle>

<h1>Spooky Llama</h1>

<h2>Welcome to Spooky Llama!</h2>
<p>Enter a prompt to generate a spooky story:</p>

<input type="text" @bind-value="@Prompt" />
<button onclick="@GenerateAndPlay">Generate</button>
<br />

<button onclick="@GetLatestResponse">Get Latest Response</button>
@if (!string.IsNullOrEmpty(LatestResponse))
{
    <h3>Latest Response:</h3>
    <p>@LatestResponse</p>
}
<br />

<button onclick="@GetAllResponses">Get All Responses</button>
<button onclick="@ClearResponses">Clear Resposnes</button>
<br />
@if (Responses.Any())
{
    <h3>All Responses:</h3>
    <ul>
        @foreach (var response in Responses)
        {
            <li>@response</li>
        }
    </ul>
}

<br />
<p>Want a new context for your story? Click the button below:</p>
<button onclick="@ClearContext">Clear Context</button>